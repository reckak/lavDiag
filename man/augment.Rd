% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/augment_data.R
\name{augment}
\alias{augment}
\title{Add predicted indicator values and residuals for continuous indicators}
\usage{
augment(fit, prefix_yhat = ".yhat_", prefix_resid = ".resid_")
}
\arguments{
\item{fit}{A fitted \code{lavaan} object with \code{meanstructure = TRUE}.}

\item{prefix_yhat}{Character scalar, prefix for predicted columns. Default \code{".yhat_"}.}

\item{prefix_resid}{Character scalar, prefix for residual columns. Default \code{".resid_"}.}
}
\value{
A \code{tibble}. For multi-group models, includes a \code{group}
column with group labels. Predicted and residual columns are added \strong{only}
for continuous indicators; ordinal indicators are skipped.
}
\description{
Computes \eqn{\hat{y} = \nu + \Lambda \eta} for observed \strong{continuous}
indicators and returns a tibble with (a) original factor-score output
(including observed variables), (b) predicted values prefixed by
\code{prefix_yhat}, and (c) residuals (observed - predicted) prefixed by
\code{prefix_resid}. Works for single- and multi-group lavaan models.
}
\details{
The function requires intercepts (\eqn{\nu}) and loadings (\eqn{\Lambda})
to be available; it therefore enforces \code{meanstructure = TRUE}. It uses
\code{lavaan::lavPredict(..., transform = FALSE, append.data = TRUE)} to obtain
factor scores and observed variables, and \code{lavInspect(fit, "lambda")} and
\code{lavInspect(fit, "nu")} for measurement parameters.
}
\examples{
# fit <- lavaan::cfa('F =~ y1 + y2 + y3', data = dat, meanstructure = TRUE)
# out <- augment_indicator_predictions(fit)
# dplyr::select(out, dplyr::starts_with(".yhat_"), dplyr::starts_with(".resid_"))

}
